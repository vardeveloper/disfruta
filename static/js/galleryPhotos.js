(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["galleryPhotos"],{"2bd6":function(t,e,a){"use strict";var s=a("9e61"),o=a.n(s);o.a},"9e61":function(t,e,a){},cc29:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"photos",class:{"photos-fullscreen":t.isFullscreen}},[a("div",{staticClass:"photo-overlay"}),a("div",{staticClass:"photos-main"},[a("div",{staticClass:"photos-header"},[a("router-link",{staticClass:"back",attrs:{to:{name:"galleries"}}},[t._v("GalerÃ­a de fotos de eventos")]),a("div",{staticClass:"name"},[t._v('Evento: "'+t._s(t.data.event.name)+'"')])],1),a("div",{staticClass:"photos-grid"},[t.data&&t.data.photos.length>0?[t._l(t.data.photos,function(e,s){return[a("div",{staticClass:"photo",class:{"photo-active":t.selected==s},on:{click:function(e){return e.preventDefault(),t.handlePhoto(s)}}},[a("div",{staticClass:"photo-main"},[a("div",{staticClass:"photo-wrap"},[a("div",{staticClass:"close",on:{click:function(e){return e.stopPropagation(),t.handleClose(e)}}}),s<t.data.photos.length-1?a("div",{staticClass:"next",on:{click:function(e){return e.stopPropagation(),t.handleNext(s)}}}):t._e(),s>0?a("div",{staticClass:"prev",on:{click:function(e){return e.stopPropagation(),t.handlePrev(s)}}}):t._e(),a("div",{staticClass:"photo-frame"},[t.selected!=s?a("div",{staticClass:"photo-item",style:"background-image: url("+t.$store.state.handler.static_url+"photos/"+t.data.event.slug+"-"+t.data.event.id+"/"+e.id+"_small.jpg)"}):t._e(),t.selected==s?a("div",{staticClass:"photo-item-big",style:"background-image: url("+t.$store.state.handler.static_url+"photos/"+t.data.event.slug+"-"+t.data.event.id+"/"+e.id+".jpg)"}):t._e()]),a("div",{staticClass:"photo-footer"},[a("a",{staticClass:"download",attrs:{href:"/perfil/galerias-de-fotos/"+t.data.event.slug+"-"+t.data.event.id+"/"+e.id+"/download",target:"_blank"},on:{click:function(a){return a.stopPropagation(),t.handleDownload("/perfil/galerias-de-fotos/"+t.data.event.slug+"-"+t.data.event.id+"/"+e.id+"/download")}}},[t._v("Descargar")])])])])])]})]:[a("p",[t._v("No hay photos que mostrar")])]],2)])])},o=[],n=a("bc3a"),l=a.n(n),i={name:"GalleryPhotos",data:function(){return{isBusy:1,isFullscreen:0,selected:null,data:null}},methods:{getData:function(){var t=this;t.isBusy=1,l()({url:"?xhr=1",method:"get",headers:{"x-requested-with":"XMLHttpRequest"}}).then(function(e){var a=e.data||{};a&&a.event&&a.photos.length?t.data={event:a.event,photos:a.photos}:t.data=null,t.isBusy=0}).catch(function(){t.isBusy=0,t.data=null})},handlePhoto:function(t){var e=this;this.isFullscreen||(this.isFullscreen=1,e.selected=t)},handleClose:function(){this.isFullscreen&&(this.selected=null,this.isFullscreen=0)},handleNext:function(t){this.selected=t+1},handlePrev:function(t){this.selected=t-1},handleDownload:function(t){window.open(t)}},created:function(){var t=(window.__template_data||{}).photos||null;t?this.data=t:this.getData()}},d=i,c=(a("2bd6"),a("2877")),r=Object(c["a"])(d,s,o,!1,null,"0862d3a0",null);e["default"]=r.exports}}]);
//# sourceMappingURL=galleryPhotos.js.map