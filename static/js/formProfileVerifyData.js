(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["formProfileVerifyData"],{"11e9":function(t,e,o){var r=o("52a7"),i=o("4630"),n=o("6821"),s=o("6a99"),a=o("69a8"),c=o("c69a"),l=Object.getOwnPropertyDescriptor;e.f=o("9e1e")?l:function(t,e){if(t=n(t),e=s(e,!0),c)try{return l(t,e)}catch(o){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},"13a9":function(t,e,o){},"1d61":function(t,e,o){"use strict";var r=o("6c1e"),i=o.n(r);i.a},"39ec":function(t,e,o){"use strict";var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"form",class:{"form-loading":t.isFormBusy}},[o("div",{staticClass:"form-title"},[t._t("header")],2),t.submitSuccess?t._e():o("form",{ref:"form",attrs:{action:t.action,method:t.method},on:{submit:t.handleSubmit}},[o("div",{staticClass:"form-overlay"}),t._t("main"),o("div",{staticClass:"buttons-center"},[t._t("footer")],2)],2)])},i=[],n={name:"Form",props:{action:{default:""},method:{default:"POST"},isFormBusy:{default:0},submitSuccess:{default:!1,type:Boolean}},data:function(){return{messageSuccess:null}},methods:{handleSubmit:function(t){this.$emit("submit",t)},submit:function(){this.$refs.form.submit()}},mounted:function(){for(var t=this.$el.querySelectorAll("form > *"),e=t.length,o=0,r={};o<e;++o)r=t[o],r&&r.style&&(r.style.opacity=0);function i(){o<e&&(r=t[o],r&&r.style&&(r.style.opacity=1),++o,setTimeout(i,100))}o=0,r={},setTimeout(i,250)}},s=n,a=(o("7fc1"),o("2877")),c=Object(a["a"])(s,r,i,!1,null,"67aed4f9",null);e["a"]=c.exports},"5d13":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Form",{ref:"form",attrs:{method:"POST",isFormBusy:t.isFormBusy,submitSuccess:t.formSubmitSuccess},on:{submit:t.handleSubmit},scopedSlots:t._u([{key:"header",fn:function(){return[t.formSubmitSuccess?[o("p",{staticClass:"form-message-success"},[t._v("Gracias, tus datos fueron actualizados correctamente.")]),o("div",{staticClass:"buttons-center"},[o("a",{staticClass:"button",on:{click:function(e){return e.preventDefault(),t.handleCancelBtn(e)}}},[t._v("Aceptar")])])]:[o("h3",[t._v("Hola"),t.name?o("span",[t._v(t._s(t.name))]):t._e(),t._v(",")]),o("p",{staticClass:"subtitle"},[t._v("¡Estás muy cerca de canjear tu cupón! Ayúdanos completando la siguiente información por esta vez")])]]},proxy:!0},{key:"main",fn:function(){return[t.errorCustom?o("p",{staticClass:"form-message-error",domProps:{innerHTML:t._s(t.errorCustom)}}):t._e(),o("input",{attrs:{type:"hidden",name:"_xsrf"},domProps:{value:t.$store.state.handler.xsrf}}),t.form.email?o("FormInput",{ref:"email",attrs:{label:"Escribe tu correo",id:"email",name:"email",errors:t.errorsEmail},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}):t._e(),t.form.phone?o("FormInput",{ref:"phone",attrs:{label:"Escribe tu celular",id:"phone",name:"phone",errors:t.errorsPhone,attrs:{maxlength:11}},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}):t._e(),o("div",{staticClass:"field-label-radio"},[o("p",[t._v("¿Eres una persona políticamente "),o("br"),t._v("expuesta?")]),o("div",{staticClass:"icon-tooltip",on:{click:t.activeTooltip}},[t._v("?")]),o("div",{ref:"tooltip",staticClass:"info-tooltip"},[o("h3",[t._v("¿Quiénes son?")]),o("p",[t._v("Aquellas personas naturales (nacionales o extranjeras) que cumplen o han cumplido en los últimos 5 años funciones públicas importantes, sea en el territorio nacional o extranjero, y cuyas circunstancias financieras puedan ser objeto de interés. También, es considerado el colaborador directo de la máxima autoridad de la institución.")]),o("span",{on:{click:t.closeTooltip}},[t._v("Entendido")])]),o("div",{staticClass:"radio-check"},[o("input",{staticClass:"radio-input",attrs:{id:"radio1",type:"radio",name:"public_job",value:"1"},on:{click:t.function1}}),o("label",{staticClass:"label-radio",attrs:{for:"radio1"}},[t._v("Sí")])]),o("div",{staticClass:"radio-check"},[o("input",{staticClass:"radio-input",attrs:{id:"radio2",type:"radio",name:"public_job",value:"0"},on:{click:t.function2}}),o("label",{staticClass:"label-radio",attrs:{for:"radio2"}},[t._v("No")])]),o("p"),t.public_job_error&&null==t.public_job?o("label",{staticClass:"label-radio-error"},[t._v(t._s(t.public_job_error))]):t._e()]),t.form.description&&!t.public_job?o("FormInput",{ref:"description",attrs:{label:t.form.description.label,id:t.form.description.id,name:t.form.description.name,errors:t.form.description.errors},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}):t._e(),o("div",{staticClass:"fields"},[t.public_job&&t.form.sector?o("FormInput",{ref:"sector",attrs:{label:t.form.sector.label,id:t.form.sector.id,name:t.form.sector.name,errors:t.form.sector.errors},scopedSlots:t._u([{key:"input",fn:function(){return[o("select",{attrs:{id:t.form.sector.id,name:t.form.sector.name}},[o("option",{attrs:{readonly:""}}),t._l(t.form.sector.options,function(e){return[o("option",{domProps:{value:e[0]}},[t._v(t._s(e[1]))])]})],2)]},proxy:!0}],null,!1,2555309766),model:{value:t.sector,callback:function(e){t.sector=e},expression:"sector"}}):t._e(),t.public_job&&t.form.job&&t.sector?o("FormInput",{ref:"job",attrs:{label:t.form.job.label,errors:t.form.job.errors},scopedSlots:t._u([{key:"input",fn:function(){return[o("select",{attrs:{id:t.form.job.id,name:t.form.job.name}},[o("option",{attrs:{readonly:""}}),t._l(t.form.job.options,function(e){return[o("option",{domProps:{value:e[0]}},[t._v(t._s(e[1]))])]})],2)]},proxy:!0}],null,!1,4253841149),model:{value:t.job,callback:function(e){t.job=e},expression:"job"}}):t._e()],1)]},proxy:!0},{key:"footer",fn:function(){return[o("a",{staticClass:"button-simple",on:{click:function(e){return e.preventDefault(),t.handleCancelBtn(e)}}},[t._v("Cancelar")]),o("button",{staticClass:"button",attrs:{type:"submit"}},[t._v(t._s(t.submitLabel))])]},proxy:!0}])})},i=[],n=(o("7f7f"),o("39ec")),s=o("db6d"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("label",{staticClass:"field-content",attrs:{for:t.id},on:{change:t.updated}},[o("span",{staticClass:"field-main"},[o("span",{staticClass:"field-input",class:{"field-input-checked":t.value_}},[o("input",{attrs:{id:t.id,name:t.name,type:"radio"},domProps:{checked:t.checked,value:t.value},on:{change:t.check}})]),o("span",{staticClass:"field-label",style:t.styleLabel},[t._v(t._s(t.label))])])])},c=[],l={name:"FormRadio",props:{id:{default:"",type:String},name:{default:"",type:String},value:{default:""},checked:{default:!1},label:{default:"",type:String},attrs:{default:function(){return{}},type:Object},styleLabel:{default:"",type:String}},data:function(){return{value_:null}},model:{prop:"checked",event:"input"},methods:{check:function(){}},created:function(){this.value&&(this.value_=1)},mounted:function(){var t;if(this.$refs.input||(this.$refs.input=this.$el.querySelector(".field-input > input")),this.$refs.input&&this.$refs.input.checked&&this.updated({target:this.$refs.input}),this.attrs)for(t in this.attrs)this.$refs.input.setAttribute(t,this.attrs[t])}},u=l,f=(o("def1"),o("2877")),p=Object(f["a"])(u,a,c,!1,null,"5f71b754",null),d=p.exports,m=o("bc3a"),h=o.n(m),b=/^(\+)?(\d){7,11}$/,v=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,_={name:"FormProfileVerifyData",components:{Form:n["a"],FormInput:s["a"],FormRadio:d},props:{submitLabel:{default:"Actualizar"},allowNormalSubmit:{default:!1,type:Boolean}},data:function(){return{isFormBusy:0,formSubmitSuccess:!1,name:"",email:null,phone:null,public_job:null,description:null,job:null,sector:null,errorCustom:null,public_job_error:null,form:null}},watch:{email:function(){this.validEmail()},phone:function(){this.validPhone()},job:function(){this.validJob()},sector:function(){this.validSector(),this.getJobs()},public_job:function(t){t?this.description=null:(this.sector=null,this.job=null)}},methods:{handleCancelBtn:function(){this.$emit("cancel")},validPublic:function(){return 0},validEmail:function(){var t=this.email,e=this.form||{},o=[];return e.email?(t?v.test(t)||o.push("Email inválido"):o.push("Este campo es requerido"),e.email.errors=o,o.length):0},validPhone:function(){var t=this.phone,e=this.form||{},o=[];return e.phone?(t?b.test(t)||o.push("Teléfono inválido"):o.push("Este campo es requerido"),e.phone.errors=o,o.length):0},validSector:function(){var t=this.sector,e=this.form||{},o=[];return e.sector?(this.public_job&&!t&&o.push("Este campo es requerido"),e.sector.errors=o,o.length):0},validJob:function(){var t=this.job,e=this.form||{},o=[];return e.job?(this.public_job&&!t&&o.push("Este campo es requerido"),e.job.errors=o,o.length):0},validatePublicJob:function(){return null==this.public_job?(this.public_job_error="Por favor elige un opción",1):(this.public_job_error=null,0)},validate:function(){var t=0,e=this.form||{};return e.email&&(t+=this.validEmail()),e.phone&&(t+=this.validPhone()),e.job&&(t+=this.validJob()),e.sector&&(t+=this.validSector()),t+=this.validatePublicJob(),t},handleSubmit:function(t){var e=this;if(t.preventDefault(),0===e.validate()&&e.$refs.form&&"function"===typeof e.$refs.form.submit){if(e.$refs.form.submit(),e.form.email)try{gtag("event","profile_update")}catch(t){}try{gtag("event","pep_update")}catch(t){}}},getSectors:function(){var t=this;t.isFormBusy=1,h()({url:"/api/get-sectors",method:"get"}).then(function(e){var o=e.data;o&&o.ok&&o.choices&&t.form.sector&&(t.form.sector.options=[].concat(o.choices)),t.isFormBusy=0}).catch(function(){t.form.job&&(t.form.job.options=[],t.job=null,t.$refs.job.$refs.input.blur()),t.isFormBusy=0})},getJobs:function(){var t=this;t.isFormBusy=1,h()({url:"/api/get-jobs/"+this.sector,method:"get"}).then(function(e){var o=e.data;o&&o.ok&&o.choices&&t.form.job&&(t.form.job.options=o.choices),t.isFormBusy=0}).catch(function(){t.form.job&&(t.form.job.options=[]),t.isFormBusy=0})},function1:function(){this.public_job=!0},function2:function(){this.public_job=!1},activeTooltip:function(){this.$refs.tooltip.classList.add("info-tooltip-active")},closeTooltip:function(){this.$refs.tooltip.classList.remove("info-tooltip-active")}},created:function(){var t=window.__template_data||{};this.form=t.form||{},this.name=t.name||"",this.errorCustom=t.errorCustom,this.form.sector&&this.getSectors()}},y=_,j=(o("ca1e"),Object(f["a"])(y,r,i,!1,null,"59dd2ef6",null));e["default"]=j.exports},"5dbc":function(t,e,o){var r=o("d3f4"),i=o("8b97").set;t.exports=function(t,e,o){var n,s=e.constructor;return s!==o&&"function"==typeof s&&(n=s.prototype)!==o.prototype&&r(n)&&i&&i(t,n),t}},"6c1e":function(t,e,o){},"7fc1":function(t,e,o){"use strict";var r=o("13a9"),i=o.n(r);i.a},"8b97":function(t,e,o){var r=o("d3f4"),i=o("cb7c"),n=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=o("9b43")(Function.call,o("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,o){return n(t,o),e?t.__proto__=o:r(t,o),t}}({},!1):void 0),check:n}},"8de7":function(t,e,o){},9093:function(t,e,o){var r=o("ce10"),i=o("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},a353:function(t,e,o){},aa77:function(t,e,o){var r=o("5ca1"),i=o("be13"),n=o("79e5"),s=o("fdef"),a="["+s+"]",c="​",l=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),f=function(t,e,o){var i={},a=n(function(){return!!s[t]()||c[t]()!=c}),l=i[t]=a?e(p):s[t];o&&(i[o]=l),r(r.P+r.F*a,"String",i)},p=f.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},c5f6:function(t,e,o){"use strict";var r=o("7726"),i=o("69a8"),n=o("2d95"),s=o("5dbc"),a=o("6a99"),c=o("79e5"),l=o("9093").f,u=o("11e9").f,f=o("86cc").f,p=o("aa77").trim,d="Number",m=r[d],h=m,b=m.prototype,v=n(o("2aeb")(b))==d,_="trim"in String.prototype,y=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=_?e.trim():p(e,3);var o,r,i,n=e.charCodeAt(0);if(43===n||45===n){if(o=e.charCodeAt(2),88===o||120===o)return NaN}else if(48===n){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var s,c=e.slice(2),l=0,u=c.length;l<u;l++)if(s=c.charCodeAt(l),s<48||s>i)return NaN;return parseInt(c,r)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,o=this;return o instanceof m&&(v?c(function(){b.valueOf.call(o)}):n(o)!=d)?s(new h(y(e)),o,m):y(e)};for(var j,g=o("9e1e")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;g.length>S;S++)i(h,j=g[S])&&!i(m,j)&&f(m,j,u(h,j));m.prototype=b,b.constructor=m,o("2aba")(r,d,m)}},ca1e:function(t,e,o){"use strict";var r=o("a353"),i=o.n(r);i.a},db6d:function(t,e,o){"use strict";var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"field-content",class:{"field-state-open":t.isOpen},on:{focusin:t.handleFocus,focusout:t.handleFocus,change:t.updated}},[o("label",{staticClass:"field-label",attrs:{for:t.id}},[t._v(t._s(t.label))]),o("label",{staticClass:"field-label-helper",attrs:{for:t.id}},[t._v(t._s(t.label))]),o("div",{staticClass:"field-input"},[t._t("input",[o("input",{ref:"input",attrs:{type:t.type,id:t.id,name:t.name},domProps:{value:t.value},on:{keyup:t.updated}})])],2),t._t("errors",[t._l(t.errors,function(e){return[o("label",{staticClass:"error",attrs:{for:t.id}},[t._v(t._s(e))])]})])],2)},i=[],n=(o("c5f6"),{name:"FormInput",props:{id:{default:"",type:String},name:{default:"",type:String},type:{default:"text",type:String},label:{default:"",type:String},open:{default:0,type:Number},value:{default:""},errors:{default:function(){return[]},type:Array},attrs:{default:function(){return{}},type:Object}},data:function(){return{isOpen:0,value_:null}},watch:{open:function(t){this.isOpen=t},value:function(t){this.isOpen=t?1:0}},methods:{handleFocus:function(t){var e=t.type,o=t.target;"focusout"===e&&o&&!o.value?this.isOpen=0:"focusin"!==e||this.isOpen||(this.isOpen=1)},updated:function(t){this.value_=t.target.value,this.$emit("input",this.value_)}},created:function(){this.value_=this.value,this.value_&&(this.isOpen=1)},mounted:function(){var t;if(this.$refs.input||(this.$refs.input=this.$el.querySelector(".field-input > input")||this.$el.querySelector(".field-input > select")),this.$refs.input&&this.$refs.input.value&&this.updated({target:this.$refs.input}),this.attrs)for(t in this.attrs)this.$refs.input.setAttribute(t,this.attrs[t])}}),s=n,a=(o("1d61"),o("2877")),c=Object(a["a"])(s,r,i,!1,null,"714762ba",null);e["a"]=c.exports},def1:function(t,e,o){"use strict";var r=o("8de7"),i=o.n(r);i.a},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=formProfileVerifyData.js.map