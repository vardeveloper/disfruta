(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["profileData"],{"0099":function(e,t,o){},"1bf1":function(e,t,o){},"1e8f":function(e,t,o){"use strict";var i=o("0099"),a=o.n(i);a.a},e4dd:function(e,t,o){"use strict";var i=o("1bf1"),a=o.n(i);a.a},fb2d:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"acount-inf",class:{loading:e.isLoading}},[o("div",{staticClass:"info-card"},[o("div",{staticClass:"info-overlay"}),o("p",[e._v("Verifica si tus datos son correctos:")]),e.error?o("div",{staticClass:"form-message-error"},[e._v(e._s(e.error))]):e._e(),e.error?e._e():[o("div",{staticClass:"card-data"},[o("div",[o("span",[e._v("Nombres")]),e.profile.name1||e.profile.name2?o("p",[e._v(e._s(e.profile.name1)+" "+e._s(e.profile.name2))]):o("p",[e._v("-")])]),o("div",[o("span",[e._v("Apellidos")]),e.profile.last_name1||e.profile.last_name2?o("p",[e._v(e._s(e.profile.last_name1)+" "+e._s(e.profile.last_name2))]):o("p",[e._v("-")])]),o("div",[o("span",[e._v("Correo electr√≥nico")]),e.profile.email?o("p",{staticClass:"mail"},[e._v(e._s(e.profile.email))]):o("p",{staticClass:"mail"},[e._v("-")])]),o("div",[o("span",[e._v("Celular")]),e.profile.phone?o("p",[e._v(e._s(e.profile.phone))]):o("p",[e._v("- ")])])]),o("div",{staticClass:"buttons"},[o("a",{staticClass:"button",class:{"button-loading":e.isLoadingProfile},on:{click:function(t){return t.preventDefault(),e.getProfileData(t)}}},[e._v("Actualiza tus datos")])])]],2),e.profileEditForm?o("Modal",[o(e.modalComponent,{tag:"component",on:{cancel:e.handleCloseEditForm}})],1):e._e()],1)},a=[],n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"overlay"},[o("div",{ref:"main",staticClass:"overlay-main"},[e._t("default")],2)])},r=[],s={name:"Modal",mounted:function(){var e=this;setTimeout(function(){e.$el.style.opacity=1},250),setTimeout(function(){e.$refs.main.style.opacity=1},500)}},l=s,d=(o("1e8f"),o("2877")),f=Object(d["a"])(l,n,r,!1,null,"7584f76a",null),c=f.exports,p=o("bc3a"),u=o.n(p),m={name:"ProfileData",components:{Modal:c},data:function(){return{modalComponent:null,profileEditForm:!1,isLoading:0,isLoadingProfile:0,error:null}},computed:{profile:function(){return this.$store.state.profile}},methods:{getData:function(){var e=this;e.$store.state.profile&&e.$store.state.profile.name1||(e.isLoading=1,u()({url:"?xhr=1",method:"GET",headers:{"x-requested-with":"XMLHttpRequest"}}).then(function(t){var o=t.data||{};e.isLoading=0,o.profile&&e.$store.dispatch("setProfile",o.profile),o.error&&(e.error=o.error)}).catch(function(){e.isLoading=0,e.error="No se pudo obtener tus datos de perfil"}))},getProfileData:function(){var e=this;e.isLoadingProfile=1,u()({url:"/perfil/edit",method:"GET",headers:{"x-requested-with":"XMLHttpRequest"}}).then(function(t){var o=t.data;e.isLoadingProfile=0,o&&o.ok&&(o.email&&e.$store.dispatch("setProfileEmail",o.email),o.phone&&e.$store.dispatch("setProfilePhone",o.phone),e.handleOpenEditForm())}).catch(function(){e.isLoadingProfile=0})},handleOpenEditForm:function(){this.profileEditForm=1,this.modalComponent||(this.modalComponent=function(){return o.e("formProfileEditContact").then(o.bind(null,"80f8"))})},handleCloseEditForm:function(){this.profileEditForm=0}},created:function(){var e=(window.__template_data||{}).profile;e?this.$store.dispatch("setProfile",e):this.getData()}},v=m,h=(o("e4dd"),Object(d["a"])(v,i,a,!1,null,"a97c8ecc",null));t["default"]=h.exports}}]);
//# sourceMappingURL=profileData.js.map