(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["category-view"],{"0f89":function(e,t,a){"use strict";var n=a("3c7e"),s=a.n(n);s.a},"10ea":function(e,t,a){},"3c7e":function(e,t,a){},4235:function(e,t,a){"use strict";var n=a("bd9f"),s=a.n(n);s.a},"4b05":function(e,t,a){"use strict";var n=a("4557");t["a"]={data:function(){return{stickClass:"",timeoutHandleScroll:0}},mounted:function(){var e=this;e.scrollSpeed=new n["a"],e.wheelSpeed=new n["a"]},methods:{initPageScrollEvents:function(){this.$el.addEventListener("scroll",this.handleScroll)},endPageScrollEvents:function(){this.$el.removeEventListener("scroll",this.handleScroll)},handleScroll:function(){var e=this,t=e.$el.scrollTop,a=e.scrollSpeed.get(t);clearTimeout(e.timeoutHandleScroll),e.timeoutHandleScroll=setTimeout(function(){a<-10||t<100?e.stickClass="":a>=0&&t>100&&(e.stickClass="page-stick-header"),e.allowScrollNavigation&&(e.isScrollTop=0===t?1:0)},50)}}}},"7ace":function(e,t,a){},"80ca":function(e,t,a){"use strict";var n=a("7ace"),s=a.n(n);s.a},a28e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Page",{class:"page-"+e.$route.params.slug,scopedSlots:e._u([{key:"header",fn:function(){return[a("BaseHeader")]},proxy:!0},{key:"main",fn:function(){return[e.isBusy?a("Loader"):e._e(),e.banner&&e.banner.img?a("div",{staticClass:"section-banner"},[a("div",{staticClass:"section-banner-main"},[a("Banner",{attrs:{img:e.banner.img,description:e.banner.description,link:e.banner.link,linkLabel:"Disfruta",icon:"icon-experiencias"}})],1)]):e._e(),e.emptyMessage?[a("p",{staticClass:"center-message"},[e._v("No hay nada que mostrar")])]:e._e(),a("Category",{directives:[{name:"show",rawName:"v-show",value:!e.isBusy,expression:"!isBusy"}],attrs:{slug:e.$route.params.slug,id:e.$route.params.id,visible:"1"},on:{loadedData:e.loadedDataCategory,beforeLoadData:e.beforeLoadData}})]},proxy:!0},{key:"footer",fn:function(){return[a("Footer")]},proxy:!0}])})},s=[],i=a("fc23"),o=a("1f43"),r=a("b2c8"),c=a("4b05"),l=a("ad22"),u=a("555f"),d=a("ba30"),p={name:"CategoryView",mixins:[c["a"]],components:{Banner:d["a"],Page:i["a"],BaseHeader:o["a"],Category:l["a"],Footer:r["a"],Loader:u["a"]},data:function(){return{isBusy:1,emptyMessage:0,banner:null}},methods:{loadedDataCategory:function(e){var t=this;e&&e.data&&0!==e.data.length||(t.emptyMessage=1),t.isBusy=0,t.banner=e.data.banner_category},beforeLoadData:function(){this.isBusy=1,this.emptyMessage=0}},mounted:function(){var e=this;e.initPageScrollEvents()},created:function(){var e=this,t=window.__template_data||{};e.banner=t.banner_category}},g=p,f=(a("a6f4"),a("80ca"),a("2877")),h=Object(f["a"])(g,n,s,!1,null,"756f8746",null);t["default"]=h.exports},a6f4:function(e,t,a){"use strict";var n=a("10ea"),s=a.n(n);s.a},ad22:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"section-category",class:{"section-loaded":e.coupons}},[e.isBusy?a("Loader"):e._e(),a("div",{staticClass:"coupons",class:"page-"+e.slug},[e.coupons&&e.coupons.data&&e.coupons.data.length>0?[e._l(e.coupons.data,function(t){return[a("Coupon",{class:"experiencias"==e.slug?"coupon-small-2":"",attrs:{href:"special-event"===t.type?"/evento-especial/"+e.slug+"-"+e.id+"/"+t.slug+"-"+t.id:null,name:t.name,type:t.type,coupon_type:t.coupon_type,coupon_value:t.coupon_value,excerpt:t.excerpt,highlight:t.highlight,id:t.id,slug:t.slug,store_name:t.store_name,store_img:t.store_img,img:t.highlight?t.img_large:t.img,category_slug:e.slug,category_id:e.id}})]})]:e._e()],2)],1)},s=[],i=a("bc3a"),o=a.n(i),r=a("d4f3"),c=a("555f"),l={name:"Category",props:["slug","id","visible"],components:{Coupon:r["a"],Loader:c["a"]},data:function(){return{coupons:null,isBusy:0}},watch:{visible:function(){this.coupons||this.getData()},slug:function(e,t){e!==t&&this.visible&&(this.coupons=null,this.getData())}},methods:{getData:function(e){var t=this;t.isBusy=1,t.coupons=null,t.$emit("beforeLoadData",{slug:t.slug,id:t.id}),o.a.get("/categoria/"+t.slug+"-"+t.id+"?xhr=1",{headers:{"x-requested-with":"XMLHttpRequest"}}).then(function(a){t.isBusy=0,a&&a.data&&(t.coupons=a.data),"function"===typeof e&&e(),t.$emit("loadedData",{slug:t.slug,id:t.id,data:t.coupons})}).catch(function(e){t.isBusy=0,e&&location.reload()})}},created:function(){this.visible&&this.getData()}},u=l,d=(a("0f89"),a("2877")),p=Object(d["a"])(u,n,s,!1,null,"5b59d502",null);t["a"]=p.exports},ba30:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.img?a("div",{staticClass:"banner ratio-1280x500",style:"background-image: url("+e.img+")"},[a("div",{staticClass:"banner-content"},[a("div",{staticClass:"banner-txt"},[e.icon?a("div",{staticClass:"icon",class:e.icon}):e._e(),a("p",{staticClass:"descrip",domProps:{innerHTML:e._s(e.description)}}),e.link?a("a",{staticClass:"button",attrs:{href:e.link,target:"_blank"}},[e._v(e._s(e.linkLabel))]):e._e()])])]):e._e()},s=[],i={name:"Banner",props:["img","description","link","linkLabel","icon"]},o=i,r=(a("4235"),a("2877")),c=Object(r["a"])(o,n,s,!1,null,null,null);t["a"]=c.exports},bd9f:function(e,t,a){}}]);
//# sourceMappingURL=category-view.js.map