(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["formLogin"],{"11e9":function(t,e,r){var n=r("52a7"),o=r("4630"),a=r("6821"),s=r("6a99"),i=r("69a8"),c=r("c69a"),u=Object.getOwnPropertyDescriptor;e.f=r("9e1e")?u:function(t,e){if(t=a(t),e=s(e,!0),c)try{return u(t,e)}catch(r){}if(i(t,e))return o(!n.f.call(t,e),t[e])}},"13a9":function(t,e,r){},1630:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Form",{ref:"form",staticClass:"form-session",attrs:{method:"POST"},on:{submit:t.handleSubmit},scopedSlots:t._u([{key:"header",fn:function(){return[t.formTitle?[r("h3",[t._v(t._s(t.formTitle))])]:[r("h3",[t._v("¡Bienvenido!")]),r("p",[t._v("Disfruta de todos los beneficios que tenemos para ti.")])]]},proxy:!0},{key:"main",fn:function(){return[t.errorCustom?r("p",{staticClass:"form-message-error",domProps:{innerHTML:t._s(t.errorCustom)}}):t._e(),r("input",{attrs:{type:"hidden",name:"_xsrf"},domProps:{value:t.$store.state.handler.xsrf}}),r("formInput",{attrs:{label:"Tipo de documento",id:"doc_type",name:"doc_type",errors:t.errorsDocType},scopedSlots:t._u([{key:"input",fn:function(){return[r("select",{attrs:{name:"doc_type"}},[r("option",{attrs:{readonly:""}}),t._l(t.docTypeOptions,function(e){return[r("option",{domProps:{value:e[0]}},[t._v(t._s(e[1]))])]})],2)]},proxy:!0}]),model:{value:t.doc_type,callback:function(e){t.doc_type=e},expression:"doc_type"}}),r("formInput",{attrs:{label:"Número de documento",id:"doc_number",name:"doc_number",errors:t.errorsDocNumber,attrs:{autocomplete:"off"}},model:{value:t.doc_number,callback:function(e){t.doc_number=e},expression:"doc_number"}}),r("formInput",{attrs:{type:"password",label:"Clave web",id:"clave",name:"clave",errors:t.errorsClave,open:t.openInputClave,attrs:{maxlength:4,readonly:"readonly",tabindex:-1}},on:{change:t.validClave},model:{value:t.clave,callback:function(e){t.clave=e},expression:"clave"}}),r("FormPad",{on:{clickKey:t.handleClickKey}}),r("a",{staticClass:"keyweb-link",attrs:{href:"https://claveweb.profuturo.com.pe/",target:"_blank"}},[t._v("Generar Clave Web")])]},proxy:!0},{key:"footer",fn:function(){return[r("a",{staticClass:"button-simple",on:{click:function(e){return e.preventDefault(),t.handleBack(e)}}},[t._v("Regresar")]),r("button",{staticClass:"button",attrs:{type:"submit"}},[t._v(t._s(t.submitLabel||"Ingresar"))])]},proxy:!0}])})},o=[],a=r("39ec"),s=r("db6d"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pad"},[r("div",{staticClass:"keys"},[t._l(t.keys,function(e){return[r("span",{staticClass:"slot"},[r("span",{staticClass:"key",attrs:{type:e},on:{click:function(e){return e.preventDefault(),t.handleKey(e)}}},[t._v(t._s(e))])])]})],2),r("span",{staticClass:"clear"},[r("span",{staticClass:"key",attrs:{type:"clear"},on:{click:function(e){return e.preventDefault(),t.handleKey(e)}}})])])},c=[],u=(r("ac6a"),{name:"FormPad",data:function(){return{keys:[1,2,3,4,5,6,7,8,9,0]}},methods:{shuffle:function(t){for(var e,r=0,n=t.length-1;n>0;n--)r=Math.floor(Math.random()*(n+1)),e=t[n],t[n]=t[r],t[r]=e;return t},handleKey:function(t){var e=t.target;e&&this.$emit("clickKey",e.getAttribute("type"))}},created:function(){this.keys=this.shuffle(this.keys)}}),l=u,f=(r("c00e"),r("2877")),p=Object(f["a"])(l,i,c,!1,null,"36136ade",null),d=p.exports,m=window.__template_data,h={name:"FormLogin",components:{Form:a["a"],FormInput:s["a"],FormPad:d},props:["action","method","formTitle","submitLabel"],data:function(){return{isFormBusy:1,formSubmitSuccess:!1,errorCustom:null,openInputClave:0,errorsDocNumber:[],errorsDocType:[],errorsClave:[],doc_number:null,doc_type:null,clave:"",docTypeOptions:[]}},watch:{doc_number:function(){this.validDocNumber()},clave:function(){this.validClave()},doc_type:function(){this.validDocType()}},methods:{handleBack:function(){-1!==document.referrer.indexOf("/login")?this.$router.push({path:"/"}):this.$router.go(-1)},handleClickKey:function(t){"clear"===t?(this.clave="",this.openInputClave=0):t&&this.clave.length<4&&(this.clave+=t,this.openInputClave=1)},validDocNumber:function(){var t=this.doc_number,e=[];return t||e.push("Este campo es requerido"),this.errorsDocNumber=e,e.length},validClave:function(){var t=this.clave,e=[];return t||e.push("Este campo es requerido"),this.errorsClave=e,e.length},validDocType:function(){var t=this.doc_type,e=[];return t||e.push("Este campo es requerido"),this.errorsDocType=e,e.length},validate:function(){return this.validDocType()+this.validDocNumber()+this.validClave()},handleSubmit:function(t){t.preventDefault(),0===this.validate()&&this.$refs.form&&"function"===typeof this.$refs.form.submit&&this.$refs.form.submit()}},created:function(){if(this.errorsDocNumber=m.errorsDocNumber||[],this.errorsDocType=m.errorsDocType||[],this.docTypeOptions=m.docTypeOptions,this.errorCustom=m.errorCustom,this.errorCustom)try{gtag("event","login_failed")}catch(t){}}},v=h,y=(r("8c13"),Object(f["a"])(v,n,o,!1,null,"48b48748",null));e["default"]=y.exports},"1d61":function(t,e,r){"use strict";var n=r("6c1e"),o=r.n(n);o.a},"39ec":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form",class:{"form-loading":t.isFormBusy}},[r("div",{staticClass:"form-title"},[t._t("header")],2),t.submitSuccess?t._e():r("form",{ref:"form",attrs:{action:t.action,method:t.method},on:{submit:t.handleSubmit}},[r("div",{staticClass:"form-overlay"}),t._t("main"),r("div",{staticClass:"buttons-center"},[t._t("footer")],2)],2)])},o=[],a={name:"Form",props:{action:{default:""},method:{default:"POST"},isFormBusy:{default:0},submitSuccess:{default:!1,type:Boolean}},data:function(){return{messageSuccess:null}},methods:{handleSubmit:function(t){this.$emit("submit",t)},submit:function(){this.$refs.form.submit()}},mounted:function(){for(var t=this.$el.querySelectorAll("form > *"),e=t.length,r=0,n={};r<e;++r)n=t[r],n&&n.style&&(n.style.opacity=0);function o(){r<e&&(n=t[r],n&&n.style&&(n.style.opacity=1),++r,setTimeout(o,100))}r=0,n={},setTimeout(o,250)}},s=a,i=(r("7fc1"),r("2877")),c=Object(i["a"])(s,n,o,!1,null,"67aed4f9",null);e["a"]=c.exports},"5dbc":function(t,e,r){var n=r("d3f4"),o=r("8b97").set;t.exports=function(t,e,r){var a,s=e.constructor;return s!==r&&"function"==typeof s&&(a=s.prototype)!==r.prototype&&n(a)&&o&&o(t,a),t}},"6c1e":function(t,e,r){},7511:function(t,e,r){},"7fc1":function(t,e,r){"use strict";var n=r("13a9"),o=r.n(n);o.a},"8b97":function(t,e,r){var n=r("d3f4"),o=r("cb7c"),a=function(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,r){return a(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:a}},"8c13":function(t,e,r){"use strict";var n=r("7511"),o=r.n(n);o.a},9093:function(t,e,r){var n=r("ce10"),o=r("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},aa77:function(t,e,r){var n=r("5ca1"),o=r("be13"),a=r("79e5"),s=r("fdef"),i="["+s+"]",c="​",u=RegExp("^"+i+i+"*"),l=RegExp(i+i+"*$"),f=function(t,e,r){var o={},i=a(function(){return!!s[t]()||c[t]()!=c}),u=o[t]=i?e(p):s[t];r&&(o[r]=u),n(n.P+n.F*i,"String",o)},p=f.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=f},ac6a:function(t,e,r){for(var n=r("cadf"),o=r("0d58"),a=r("2aba"),s=r("7726"),i=r("32e9"),c=r("84f2"),u=r("2b4c"),l=u("iterator"),f=u("toStringTag"),p=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=o(d),h=0;h<m.length;h++){var v,y=m[h],b=d[y],_=s[y],g=_&&_.prototype;if(g&&(g[l]||i(g,l,p),g[f]||i(g,f,y),c[y]=p,b))for(v in n)g[v]||a(g,v,n[v],!0)}},c00e:function(t,e,r){"use strict";var n=r("ef31"),o=r.n(n);o.a},c5f6:function(t,e,r){"use strict";var n=r("7726"),o=r("69a8"),a=r("2d95"),s=r("5dbc"),i=r("6a99"),c=r("79e5"),u=r("9093").f,l=r("11e9").f,f=r("86cc").f,p=r("aa77").trim,d="Number",m=n[d],h=m,v=m.prototype,y=a(r("2aeb")(v))==d,b="trim"in String.prototype,_=function(t){var e=i(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():p(e,3);var r,n,o,a=e.charCodeAt(0);if(43===a||45===a){if(r=e.charCodeAt(2),88===r||120===r)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+e}for(var s,c=e.slice(2),u=0,l=c.length;u<l;u++)if(s=c.charCodeAt(u),s<48||s>o)return NaN;return parseInt(c,n)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof m&&(y?c(function(){v.valueOf.call(r)}):a(r)!=d)?s(new h(_(e)),r,m):_(e)};for(var g,C=r("9e1e")?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;C.length>S;S++)o(h,g=C[S])&&!o(m,g)&&f(m,g,l(h,g));m.prototype=v,v.constructor=m,r("2aba")(n,d,m)}},db6d:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"field-content",class:{"field-state-open":t.isOpen},on:{focusin:t.handleFocus,focusout:t.handleFocus,change:t.updated}},[r("label",{staticClass:"field-label",attrs:{for:t.id}},[t._v(t._s(t.label))]),r("label",{staticClass:"field-label-helper",attrs:{for:t.id}},[t._v(t._s(t.label))]),r("div",{staticClass:"field-input"},[t._t("input",[r("input",{ref:"input",attrs:{type:t.type,id:t.id,name:t.name},domProps:{value:t.value},on:{keyup:t.updated}})])],2),t._t("errors",[t._l(t.errors,function(e){return[r("label",{staticClass:"error",attrs:{for:t.id}},[t._v(t._s(e))])]})])],2)},o=[],a=(r("c5f6"),{name:"FormInput",props:{id:{default:"",type:String},name:{default:"",type:String},type:{default:"text",type:String},label:{default:"",type:String},open:{default:0,type:Number},value:{default:""},errors:{default:function(){return[]},type:Array},attrs:{default:function(){return{}},type:Object}},data:function(){return{isOpen:0,value_:null}},watch:{open:function(t){this.isOpen=t},value:function(t){this.isOpen=t?1:0}},methods:{handleFocus:function(t){var e=t.type,r=t.target;"focusout"===e&&r&&!r.value?this.isOpen=0:"focusin"!==e||this.isOpen||(this.isOpen=1)},updated:function(t){this.value_=t.target.value,this.$emit("input",this.value_)}},created:function(){this.value_=this.value,this.value_&&(this.isOpen=1)},mounted:function(){var t;if(this.$refs.input||(this.$refs.input=this.$el.querySelector(".field-input > input")||this.$el.querySelector(".field-input > select")),this.$refs.input&&this.$refs.input.value&&this.updated({target:this.$refs.input}),this.attrs)for(t in this.attrs)this.$refs.input.setAttribute(t,this.attrs[t])}}),s=a,i=(r("1d61"),r("2877")),c=Object(i["a"])(s,n,o,!1,null,"714762ba",null);e["a"]=c.exports},ef31:function(t,e,r){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=formLogin.js.map